<!DOCTYPE html>

<html>
<head>
	<meta charset = "UTF-8" name = "viewport" content = "width=device-width, initial-scale = 1">
	<title>Reservation</title>

	<link rel = "stylesheet" type = "text/css" href = "Style.css">


</head>

<body>

	<header>
		<div class = "header_container">
			<img src = "logo2.png" alt = "logo" class = "logo">

			<nav>
				<ul>
					
					<li><a href = "index.html">Home</a></li>
					<li><a href = "Menu.html">Menu</a></li>
					<li><a href = "reservation.html">Reserve</a></li>
					<li><a href = "order.html">Order Takeout</a></li>
					<li><a href = "Cung Chow final.html">Special Offers</a></li>
					<li><a href = "About Us.html">About us</a></li>

				</ul>
			</nav>
		</div>
	</header>


	<div id = "bg_container">
		<video id="bg" src="bgvideo.mp4" autoplay="true" loop="true" muted = "true">
		</video>
		<div class = "content_home" style = "text-align: left;">
			
			<h1>Make a Reservation</h1>
			<div class = "form">
				<form id = "res-form" onsubmit="resSubmit();">
					<p><label>Name:
						<input id = "name" type = "text" name = "name" type = "text" size = "25" maxlength = "30"required /></label></p>
	
					<p><label>Date:
						<input id = "date" type = "date" name = "date" required/>
					</label></p>
	
					<p><label>Time: 
						<input id = "time" type = "time" name = "time" required/>
					</label></p>
	
					<p><label>Phone number: 
						<input id = "phone" type = "tel" placeholder = "(###) ###-####"
						name = "phone" required />
					</label></p>
	
					<label for = "party_size">Party Size: </label>
	
					<select id = "party_size" name = "party_size" type = "int">
						<option value = "1">1</option>
						<option value = "2">2</option>
						<option value = "3">3</option>
						<option value = "4">4</option>
						<option value = "5">5</option>
						<option value = "6">6</option>
					</select>
	
					<p><label>Email: 
						<input id = "email" name = "email" type = "email" />
					</label></p>
					<p>
						<input type = "submit" id = "res-btn" value = "Submit"></button></p>
				</form>
			</div>

			</div>
	</div>

	<script type = "text/javascript">
	function resSubmit(){
		var data = {
			name: document.getElementById("name").value,
			date: document.getElementById("date").value,
			time: document.getElementById("time").value,
			phone: document.getElementById("phone").value,
			party_size: document.getElementById("party_size").value,	
			email: document.getElementById("email").value,
		}	
		alert("Thank you, " + data.name + "! ");
		
	}

    const form1 = document.getElementById("res-form");
    form1.addEventListener("submit", (e)=>{
      e.preventDefault();

      const request = new XMLHttpRequest()
      request.open("post", "/reservation");
      request.onload = function(){
      const json = JSON.parse(request.response);
      if (json.success){
        window.location.href = 'Home.html';
      }
      else{
        window.alert("USER EXISTS");
      }
    }
    var data = {
		name: document.getElementById("name").value,
		date: document.getElementById("date").value,
		time: document.getElementById("time").value,
		phone: document.getElementById("phone").value,
		party_size: document.getElementById("party_size").value,	
		email: document.getElementById("email").value,
    }
    request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    request.send(JSON.stringify(data));
    })

  	</script>

</body>
</html>

<!-- <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/fL07XKsk2EE?start=14" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
